@using ThoughtHub.UI.BlazorWasm.Components.HubNavigation
@using ThoughtHub.UI.BlazorWasm.Layout
@using ThoughtHub.UI.BlazorWasm.Components.NavigationPane
@using ThoughtHub.UI.BlazorWasm.Components.Layout
@inherits LayoutComponentBase

@code {
	/// <summary>
	/// This field connects the Header with the NavigationPane, so that
	/// the pane can be displayed or hid using a button in the header.
	/// 
	/// Open is used for smaller displays, where the pane is displayed over the other elements.
	/// </summary>
	private bool _isNavigationPaneOpen;

	// Toggle is used for desktop, where the pane takes space.
	private bool _isNavigationPaneToggled;

	private readonly List<HubNavigationItem> _navItems =
	[
		new() { Text = "Home" , Url = "/", IconName = "house-door" },
		new() { Text = "Library" , Url = "me/lists", IconName = "bookmarks" },
		new() { Text = "Profile" , Url = "", IconName = "person" },
		new() { Text = "Stories" , Url = "/me/stories", IconName = "file-text" },
		new() { Text = "Stats" , Url = "me/stats", IconName = "graph-up" },
		new() { IsSeparator = true },
		new() { Text = "Following" , Url = "me/following", IconName = "people" },
	];
}

<HubLayout StickyHeader=true>
	<Header>
		<HubHeader OnNavigationPaneToggle="() => _isNavigationPaneOpen = !_isNavigationPaneOpen"/>
	</Header>
	<NavigationPane>
		<HubNavigationPane @bind-IsOpen="_isNavigationPaneOpen" Items="_navItems"/>
	</NavigationPane>

	<Main>
		@Body
	</Main>
</HubLayout>