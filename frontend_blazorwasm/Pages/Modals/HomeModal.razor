@* @inject Blazored.Modal.Services.BlazoredModalInstance ModalInstance
 *@
<div tabindex="-1" aria-labelledby="signinModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            @if (Type == "signin")
            {
                <div class="modal-header">
                    <button type="button" class="btn-close ms-auto" aria-label="Close" @onclick="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <h3 class="modal-title text-center" id="writeModalLabel">Welcome back.</h3>
                    <a asp-page="/Account/Signin" class="btn btn-dark w-100 mb-2">Sign in with Email</a>
                    <p class="mt-2">
                        No account?
                        <button type="button" class="btn btn-link p-0" @onclick="@(() => Type = "signup")">Create one</button>
                    </p>
                    <p class="mt-2">
                        Forgot email or trouble signing in?
                        <a>Get help</a>
                    </p>
                </div>
            }
            else if (Type == "signup")
            {
                <div class="modal-header text-center">
                    <button type="button" class="btn-close ms-auto" aria-label="Close" @onclick="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <h3 class="modal-title" id="writeModalLabel">Join Medium.</h3>
                    <a asp-page="/Account/Register"
                        class="btn btn-dark w-100 mb-2">Sign up with Email</a>
                    <p class="mt-2">
                        Already have an account?
                        <button type="button" class="btn btn-link p-0" @onclick="@(() => Type = "signin")">Sign in</button>
                    </p>
                </div>
            }
            else if (Type == "writer_register")
            {
                <div class="modal-header">
                    <button type="button" class="btn-close ms-auto" aria-label="Close" @onclick="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <h3 class="modal-title text-center" id="writeModalLabel">Create an account to start writing.</h3>
                    <a asp-page="/Account/Register" class="btn btn-dark w-100 mb-2">Sign up with Email</a>
                    <p class="mt-2">
                        Already have an account?
                        <button type="button" class="btn btn-link p-0" @onclick="@(() => Type = "signin")">Sign in</button>
                    </p>
                </div>
            }
        </div>
    </div>
</div>

@code {
    [Parameter]
    public string Type { get; set; } = "signin";

    // [CascadingParameter]
    // public IModalService ModalService { get; set; } = default!;

    [CascadingParameter]
    public BlazoredModalInstance ModalInstance { get; set; } = default!;

    private async Task Close()
    {
        await ModalInstance.CloseAsync();
    }
}
